---
title: "Gov 50 Final Project"
author: Darcy Lin
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---

##Proposal 
Does increasing campaign ads increase election results? In this study, I plan to examine the extent to which campaign ads can predict the 2016 election outcome. I hypothesize that, in general, an increase in campaign ads will be a strong predictor for how well a candidate does in that area.

My sample is composed of two sources. The first source is pulled from Political TV Ad Archive and is comprised of campaign ads from the primary period through the 2016 election in regions across the United States. The second source is final election results compiled from various Green Pages for the corresponding districts. The data set is sorted to only include pro-presidential campaign. 

The explanatory variable is proportion of Hillary Clinton campaign ads in a region. The outcome variable is the proportion of the vote that Hillary Clinton won. 

If I observe a strong correlation between campaign ads and election results, I will have support for my hypothesis. 

##Final Milestone 3 

```{r}
library(tidyverse)
library(dplyr)
```

```{r}
gov50ads <- read_csv("2016ads.csv")
View(gov50ads)

presidential <- read_csv("gov50presidential.csv")
View(presidential)

presidential <- presidential |> 
  rename("state" = "...1")
```

```{r}
gov50ads |> 
  filter(message == "pro") |>
  group_by(candidates) |>
  summarize(n = n()) |>
  mutate(prop = n / sum(n)) |>
  drop_na() |>
  slice_max(n, n = 6) |>
  ggplot(mapping = aes(x = candidates,
                       y = prop)) + 
  geom_col() + 
  labs(
    title = "Proportion of Pro-Campaign Ads Run from Oct 2015 - Dec 2016",
    y = "Proportion",
    x = "Candidate")
   
```

##Final Milestone 4
```{r}
loc_govads <- gov50ads |>
  filter(location != "Greenville-Spartanburg, SC/Asheville-Anderson, NC",
         location != "Washington, DC/Hagerstown, MD",
         location != "Boston, MA/Manchester, NH") |>
  mutate(state = case_when(
    location == "Las Vegas, NV" ~ "NV",
    location == "Tampa-St. Petersburg, FL" | location == "Orlando-Daytona Beach-Melbourne, FL" | location == "Miami-Fort Lauderdale, FL" ~ "FL",
    location == "Denver, CO" | location == "Colorado Springs-Pueblo, CO" ~ "CO",
    location == "Ceder Rapids-Waterloo-Iowa City-Dublin, Iowa" | location == "Sioux City, Iowa" | location == "Des Moines-Ames, Iowa" ~ "IA",
    location == "Charlotte, NC" | location == "Raleigh-Durham-Fayetteville,  NC" | location == "Norfolk-Portsmouth-Newport News, NC" ~ "NC",
    location == "Cincinnati, OH" | location == "Cleveland, Ohio" ~ "OH",
    location == "Columbia, SC" ~ "SC",
    location == "Milwaukee, WI" ~ "WI",
    location == "New York City, NY" ~ "NY",
    location == "Philadelphia, PA" ~ "PA",
    location == "Phoenix-Prescott, AZ" ~ "AZ",
    location == "Reno, NV" ~ "NV",
    location == "Roanoke-Lynchburg, VA" ~ "VA",
    location == "San Francisco-Oakland-San Jose, CA" ~ "CA"
      )) |>
  filter(race == "PRES",
         message == "pro")
```

```{r}
join_ads <- loc_govads |> 
  group_by(state) |> 
  mutate(Hillary = if_else(candidates == "Hillary Clinton", "1", "0"),
         Hillary = as.numeric(Hillary)) |> 
  summarize(prop_Hillary = mean(Hillary)) |> 
  left_join(presidential, by = "state") |>
  select(!c(...2,...3,Trump,Other)) |>
  mutate(`Hillary Clinton` = `Hillary Clinton`/100)
```

```{r}
join_ads |> 
  ggplot(mapping = aes(x = prop_Hillary,
                       y = `Hillary Clinton`)) + 
  geom_point(alpha = 0.5) + 
  geom_smooth(method = "lm") + 
  labs(title = "Hillary Clinton 2016 Presidential Campaign Videos vs Election Results",
       y = "Clinton Proportion of 2016 Presidential Election",
       x = "Clinton Proportion of Campaign Videos", 
       subtitle = "Campaign Ad Info from Political TV Ad Archive, Election Results Compiled from the Green Pages")
```
```{r}
join_ads |>
  lm(formula = `Hillary Clinton` ~ prop_Hillary)
```
Positive correlation between increase of Hillary campaign ads and election results. 
